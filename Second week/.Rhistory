file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
mean <- mean(spec_polluent , na.rm = TRUE)
partial_mean = partial_mean + mean
}
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
mean <- mean(spec_polluent , na.rm = TRUE)
partial_mean = partial_mean + mean
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
spec_polluent
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
print(spec_polluent)
mean <- mean(spec_polluent , na.rm = TRUE)
partial_mean <- partial_mean + mean
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
#print(spec_polluent)
mean <- mean(spec_polluent , na.rm = TRUE)
print(mean)
partial_mean <- partial_mean + mean
print(partial_mean)
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
#partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
class(spec_polluent)
mean <- mean(spec_polluent , na.rm = TRUE)
print(mean)
partial_mean <- partial_mean + mean
print(partial_mean)
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
class(spec_polluent)
mean <- mean(spec_polluent , na.rm = TRUE)
print(mean)
partial_mean <- partial_mean + mean
print(partial_mean)
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
print(class(spec_polluent))
mean <- mean(spec_polluent , na.rm = TRUE)
print(mean)
partial_mean <- partial_mean + mean
print(partial_mean)
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
partial_mean <- 0
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
print(spec_polluent)
mean <- mean(spec_polluent , na.rm = TRUE)
#print(mean)
partial_mean <- partial_mean + mean
#print(partial_mean)
}
length(id)
total_mean <- partial_mean/length(id)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
?paste
polluttantmean <-function(directory , polluent , id = 1:332){
info <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
info <-c(info,scpec_polluent)
}
length(id)
total_mean <- mean(info , na.rm = TRUE)
total_mean
}
?paste
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean <-function(directory , polluent , id = 1:332){
info <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
#print(monitor)
file <- file.path(directory,monitor)
data <- read.csv(file)
spec_polluent <- data[,polluent]
info <-c(info,spec_polluent)
}
length(id)
total_mean <- mean(info , na.rm = TRUE)
total_mean
}
polluttantmean("specdata", "sulfate" , 1:10)
polluttantmean("specdata", "nitrate" , 70:72)
polluttantmean("specdata", "nitrate" , 23)
?complete.cases
polluttantmean("specdata", "nitrate" , 23)
x <- c(1, NA, 3)
y <-c(NA , 2 , 3)
complete.cases(x,y)
sum(complete.cases(x,y))
complete <- function(directory , id = 1:332){
num_cases <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
data <- read.csv(file)
nobs <- sum(complete.cases(data[,"nitrate"],data[,"sulfate"]))
num_cases <- c(num_cases , nobs)
}
complete_cases <- data.frame(id = 1:332 , nobs = num_cases)
complete_cases
}
complete("specdata", )
y <-c(NA , 2 , 3)complete <- function(directory , id = 1:332){
num_cases <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
data <- read.csv(file)
nobs <- sum(complete.cases(data[,"nitrate"],data[,"sulfate"]))
num_cases <- c(num_cases , nobs)
}
complete_cases <- data.frame(id = id , nobs = num_cases)
complete_cases
}
y <-c(NA , 2 , 3)complete <- function(directory , id = 1:332){
num_cases <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
data <- read.csv(file)
nobs <- sum(complete.cases(data[,"nitrate"],data[,"sulfate"]))
num_cases <- c(num_cases , nobs)
}
complete_cases <- data.frame(id = id , nobs = num_cases)
complete_cases
}
complete <- function(directory , id = 1:332){
num_cases <- c()
for (ID in id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
data <- read.csv(file)
nobs <- sum(complete.cases(data[,"nitrate"],data[,"sulfate"]))
num_cases <- c(num_cases , nobs)
}
complete_cases <- data.frame(id = id , nobs = num_cases)
complete_cases
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
?source
?corr
?cor
data <- complete( "specdata")
data_cor <- data[data$nobs >= threshold, ]
data_cor <- data[data$nobs >= 100, ]
View(data_cor)
View(data_cor)
num_id <- data_cor[,"id"]
num_id
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , obs[,"sulfate"], na.rm = TRUE)
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , obs[,"sulfate"])
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
cr <- corr("specdata", 150)
head(cr)
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , use = complete.obs)
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
cr <- corr("specdata", 150)
head(cr)
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , use = "complete.obs")
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
cr <- corr("specdata", 150)
head(cr)
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs, use = "complete.obs")
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
cr <- corr("specdata", 150)
head(cr)
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs >= threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , obs[,"sulfate"], use = "complete.obs")
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
source("polluntantmean.R")
source("complete.R")
source("corr.R")
#1  What value is returned by the following call to pollutantmean()?
#You should round your output to 3 digits.
pollutantmean("specdata", "sulfate", 1:10)
source("polluntantmean.R")
source("complete.R")
source("corr.R")
#1  What value is returned by the following call to pollutantmean()?
#You should round your output to 3 digits.
pollutantmean("specdata", "sulfate", 1:10)
source("polluntantmean.R")
source("complete.R")
source("corr.R")
#1  What value is returned by the following call to pollutantmean()?
#You should round your output to 3 digits.
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
source("complete.R")
source("corr.R")
#1  What value is returned by the following call to pollutantmean()?
#You should round your output to 3 digits.
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
source("complete.R")
source("corr.R")
#1  What value is returned by the following call to pollutantmean()?
#You should round your output to 3 digits.
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
corr("specdata")
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
corr("specdata")
corr <- function( directory , threshold = 0 ){
data <- complete( directory)
data_cor <- data[data$nobs > threshold, ]
num_id <- data_cor[,"id"]
corr_vector <- c()
for (ID in num_id){
monitor <- if (ID < 10) {
paste0(0,0,ID,".csv")
} else {if (ID < 100) {  paste0(0,ID,".csv")
} else  paste0(ID,".csv")
}
file <- file.path(directory,monitor)
obs <- read.csv(file)
correlation <- cor(obs[,"nitrate"] , obs[,"sulfate"], use = "complete.obs")
corr_vector <- c(corr_vector , correlation)
}
corr_vector
}
corr("specdata")
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
